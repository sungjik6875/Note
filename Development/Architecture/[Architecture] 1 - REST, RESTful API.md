### REST

------

> Representational State Transfer의 약자로 자원을 자원의 표현(자원의 이름)으로 구분하여 해당 자원의 상태(정보)를 주고 받는 것을 의미한다. 여기서 자원이란 해당 소프트웨어 또는 서버가 관리하는 모든 것을 의미한다. 이 자원에는 문서, 그림, 데이터, 소프트웨어 등이 해당된다. 자원의 표현이란, 각 자원을 식별하기 위한 이름을 말한다. 자원의 표현을 예로 들면 다음과 같다.

```
ex) 학생 정보 DB
자원은 각 학생의 자원을 의미

자원의 표현
모든 학생의 정보 : /students
특정 학생의 정보 : /student/:id
```

> 자원의 상태 전달이란 데이터가 요청되어지는 시점에서 자원의 상태를 전달하는 것을 말한다. 일반적으로 JSON이나 XML을 통해 주고받는다.





#### 구체적인 개념

------

> HTTP URI(Uniform Resource Identifier)를 통해 자원을 명시하고, HTTP Method(POST, GET, PUT, DELETE)를 통해 해당 자원에 대한 CRUD Operation을 적용하는 것을 의미한다. CRUD Operation의 내용은 다음과 같다.

```
CRUD Operation
- Create: 생성 (POST)
- Read: 조회 (GET)
- Update: 수정 (PUT)
- Delete: 삭제 (DELETE)
- HEAD: Header 정보 조회 (HEAD)
```

> 즉, REST는 자원 기반의 설계 구조 (ROA, Resource Oriented Architecture)를 말한다. 설계의 중심에 자원이 있고, HTTP Method를 통해 자원을 처리하도록 설계된 아키텍쳐를 의미한다. 따라서 자원에 해당되는 웹 사이트의 이미지, 텍스트, DB 내용 등 모든 자원에 대해 고유한 ID인 HTTP URI를 부여한다. 





#### 구성 요소

------

> 자원, 행위, 표현으로 구성되며 각 구성 요소의 의미는 다음과 같다.

##### 자원 : URI

> 서버에 존재하는 모든 자원에 대해 고유한 식별자가 존재한다. 이 식별자는 HTTP URI로 명시된다. 클라이언트는 URI를 이용해서 자원을 지정하고 해당 자원의 상태에 대한 조작을 서버에 요청한다.

##### 행위 : HTTP Method

> HTTP 프로토콜의 Method를 사용한다. 

##### 표현 

> 클라이언트가 서버에 자원의 상태에 대한 조작을 요청하면 서버는 이에 대해 적절한 응답을 보낸다. REST에서 하나의 자원은 JSON, XML, TEXT, RSS 등의 여러 형태의 표현으로 나타내어 질 수 있다. 이 중 JSON과 XML 방식이 일반적이다.





#### 장단점

------

##### 장점

* HTTP 프로토콜의 인프라를 그대로 사용하므로 REST API 사용을 위한 별도의 인프라를 구축할 필요가 없다. 또한 HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용이 가능하다.

* Hypermedia API의 기본을 충실히 지키면서 범용성을 보장한다.
* REST API 메시지의 의미를 명확하게 나타내므로 의도하는 바를 쉽게 파악할 수 있다. 
* 여러가지 서비스 디자인에서 생길 수 있는 문제를 최소화한다.
* 서버와 클라이언트의 역할을 명확하게 분리한다.

##### 단점

* 표준이 존재하지 않는다.
* 사용 가능한 HTTP Method의 형태가 제한적이다.
* 일부 구형 브라우저에서는 PUT, DELETE, pushState 등을 지원하지 않는다.
* 분산 환경에서는 부적합하다.
* HTTP 통신 모델에 대해서만 지원된다.





#### 특징

------

##### Uniform Interface (인터페이스 일관성)

> URI로 지정한 자원에 대한 조작을 통일되고 한정적인 인터페이스로 수행한다. 또한 HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용이 가능하므로 특정 언어나 기술에 종속되지 않는다.

##### Server - Client (서버 - 클라이언트 구조)

> REST에서는 서버와 클라이언트의 역할이 명확히 구분된다. 자원을 보유한 쪽이 서버, 자원을 요청하는 쪽이 클라이언트가 된다. 서버는 API를 제공하고 비즈니스 로직 처리와 자원 상태에 대한 저장을 책임진다. 클라이언트는 사용자 인증이나 Context(세션, 로그인 정보) 등을 직접 관리하고 책임진다.
>
> 또한 서버와 클라이언트의 역할이 명확히 구분되므로 서로 간의 의존성이 줄어든다.

##### Stateless (무상태성)

> HTTP 프로토콜이 무상태성이므로 REST 역시 무상태성을 갖는다. 클라이언트의 Context를 서버에 저장하지 않는다. 세션, 쿠키와 같은 Context 정보를 신경쓰지 않아도 되므로 구현이 단순해진다.
>
> 무상태성이란, 서버가 각각의 요청을 완전히 별개의 것으로 인식하고 처리함을 의미한다. 이전 요청이 다음 요청의 처리에 영향을 주지 않는다. 이는 서버의 처리 방식에 일관성을 부여하게 된다. 

##### Cacheable (캐시 처리 가능)

> HTTP의 프로토콜을 그대로 사용한다는 것은, HTTP가 가진 강력한 특징 중 하나인 캐싱 기능을 적용할 수 있음을 의미한다. HTTP 프로토콜 표준에서 사용하는 Last-Modified 태그나 E-Tag를 이용하면 캐싱 구현이 가능하다.
>
> 캐싱 기능은 대량의 요청을 효율적으로 처리하기 위해 요구된다. 캐싱 기능을 사용할 경우 REST 서버의 트랜잭션이 발생하지 않으므로 전체 응답시간과 성능, 서버의 자원 이용률 등을 향상 시킬 수 있다.

##### Hierarchical System (Layered System, 계층화)

> REST 서버는 다중 계층으로 구성될 수 있다. 이 중 API 서버는 순수 비즈니스 로직을 수행한다. 이보다 앞단에 보안, 로드밸런싱, 암호화, 사용자 인증 등의 기능을 담당하는 계층을 추가하여 유연하게 구조를 가져갈 수 있다. 로드밸런싱이나 공유 캐시 등은 확장성과 보안성 향상에 도움이 된다.
>
> 프록시, 게이트웨이 같은 네트워크 기반의 중간매체를 사용하는 것이 가능하다.

##### Code-On-Demand

> 필수적인 특징은 아니고 선택적인 특징이다. 서버로부터 스크립트를 받아 클라이언트에서 실행되는 것을 의미한다.





#### REST의 필요성

------

> REST가 필요한 이유는 다음과 같이 요약할 수 있다.

* 애플리케이션의 분리 및 통합
* 다양한 클라이언트의 등장
* 다양한 브라우저와 안드로이드, iOS와 같은 모바일 디바이스에 대응하기 위함





### RESTful API

------

> API(Application Programming Interface)란 데이터와 기능의 집합을 제공하여 컴퓨터 프로그램간 상호작용을 촉진하며, 서로 정보를 교환 가능하도록 하는 것이다.
>
> RESTful API이란 REST 기반으로 설계되었으며, REST의 원칙을 충실히 따르도록 구현된 API를 의미한다. 예를 들어 CRUD Operation을 모두 POST로만 처리하는 경우나 URL route에 URI 이외의 정보가 들어가는 경우라면 RESTful하지 못하다고 할 수 있다.
>
> RESTful API의 근본적인 목적은 일관적인 컨벤션을 통해 API의 이해도 및 호환성을 높이는 것이 주 목적이다. 성능과는 관계 없으며, 성능이 중요한 경우에는 굳이 RESTful하게 구현하지 않기도 한다.





#### 특징

------

* 시스템의 확장성과 재사용성을 높여 유지보수 및 운용의 편리함을 제공한다. 
* 멀티 플랫폼 지원 및 연동이 용이하며, 원하는 형태로 데이터를 주고받는 것이 가능하다. 
* 기존 웹 인프라(HTTP)를 그대로 사용할 수 있다. 
* 이러한 특징으로 인해 Open API에 주로 사용된다.





#### 설계 규칙

------

* 리소스와 행위를 명시적이고 직관적으로 분리, 리소스는 명사, 행위는 Method로 표현
* 메시지는 Header와 Body를 명확히 분리해서 사용. Entity는 Body, 서버가 행동할 판단의 근거가 되는 제어 정보(API 버전, MIME 타입 등)은 Header에 담는다.
* API를 버전 별로 관리. 하위호환성이 보장되어야 한다.
* 서버와 클라이언트가 같은 방식으로 요청해야 한다.(형식의 통일) 이를 URI가 플랫폼 중립적이어야 한다고 표현하기도 한다.



...

```
https://gmlwjd9405.github.io/2018/09/21/rest-and-restful.html
```

