### 싱글톤 패턴 (Singleton Pattern)

------

> 하나의 객체에 하나의 책임을 부과하는 디자인 패턴을 의미. 어떤 객체에 대한 생성자가 여러 차례 호출되더라도 실제로 생성되는 객체는 최초에 생성된 객체 하나 뿐이다. 객체가 생성된 이후에는, 생성자가 호출되더라도 기존에 생성된 객체를 반환한다. 따라서 싱글톤 패턴은 객체의 클래스 별로 단 하나의 인스턴스를 생성해 사용하는 디자인 패턴이다.
>
> 생성된 하나의 인스턴스는 어디에서든지 참조가 가능한 전역 인스턴스이다.





#### 싱글톤 패턴을 쓰는 이유

> 고정된 메모리 영역을 얻으면서 오직 하나의 인스턴스만을 사용하기 때문에 메모리 낭비를  방지할 수 있다.  두 번째 객체 호출 부터는 객체 로딩 시간이 줄어드므로 속도면에서도 성능이 개선된다. 또한 싱글톤으로 만들어진 인스턴스는 전역이므로 다른 클래스의 인스턴스들이 데이터를 공유하기 쉽다. 
>
> 그런데 싱글톤 패턴은 DBCP(Database Connection Pool)처럼 공통된 객체를 여러개 생성해서 사용해야 하는 상황에서도 많이 사용한다. 이와 비슷한 사례로 쓰레드 풀도 있다.
>
> 안드로이드 앱을 개발하는 경우에도 각 액티비티나 클래스 별로 주요 클래스들을 일일이 전달하기가 번거롭기 때문에 싱글톤 클래스를 만들어 어디서나 접근할 수 있도록 설계하는 것이 편하다.
>
> 그 외에 인스턴스가 절대적으로 한 개만 존재하는 것을 보증하고 싶은 경우에도 사용한다.





#### 싱글톤 패턴의 문제점

> 싱글톤 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유하게 되는 경우 다른 클래스 인스턴스와의 결합도가 높아지게 된다. 이는 OOP의 '개방-폐쇄 원칙'에 위배된다. 이런 경우 코드 수정도 어렵고, 테스트도 어렵다.
>
> 그 외에 멀티스레드 환경에서 동기화 처리를 하지 않으면 인스턴스가 두 개 이상 생성되기도 한다. 두 개 이상 생성되지 않도록 동기화 제어를 해야 한다.