### HTTP Status Code

------

HTTP 응답 상태 코드는 특정 HTTP 요청이 성공적으로 완료되었는지, 어떻게 처리되었는지 클라이언트에게 알려준다. 상태 코드는 5개의 클래스로 구분된다. 상태 코드의 첫 번째 숫자가 응답의 클래스를 의미한다. 5개의 클래스는 다음과 같다.

* 1xx (정보) : 요청을 받았으며, 작업을 계속한다.
* 2xx (성공) : 요청을 성공적으로 수신하였고, 처리하였다.
* 3xx (리다이렉션) : 요청 완료를 위해 추가 작업 조치가 필요하다.
* 4xx (클라이언트 오류) : 요청의 문법이 잘못되었거나 요청을 처리할 수 없다.
* 5xx (서버 오류) : 서버가 명백히 유효한 요청에 대해 충족을 실패하였다.



#### 1xx (Informational)

------

요청을 받았으며 작업을 계속한다.

이 상태의 상태 코드는 상태-라인과 선택적 헤더(컴퓨터에서 출력될 때 각 페이지 맨 윗부분에 자동으로 붙는 부분)만을 포함하는 임시의 응답을 나타내고 빈 라인에 의해서 종결된다. HTTP/1.0 이래로 어떤 1xx 상태 코드들도 정의되지 않았다. 서버들은 1xx 계열의 응답을 시험 단계에서만 사용해야 한다. 그 외에 클라이언트에 1xx 계열의 응답을 보내선 안 된다.



##### 상태 코드

* 100 (Continue) : 요청자는 요청을 계속해야 한다. 서버는 이 코드를 제공하여 첫 번째 부분을 받았으며 나머지를 기다리고 있다.
* 101(Switching Protocol) : 요청자가 서버에 프로토콜 전환을 요청했으며 서버는 이를 승인하는 중이다.



#### 2xx (Successful)

------

클라이언트가 요청한 동작을 수신하여 이해했고 승낙했으며 성공적으로 처리했다.



##### 상태 코드

* 200 (OK) : 요청이 성공적으로 처리되었다. 성공의 의미는 HTTP 메소드에 따라 다르다.
  * GET : 리소스를 불러와서 메시지 바디에 전송되었다.
  * HEAD : 개체의 헤더가 메시지 바디(?)에 전송되었다.
  * POST / PUT : 수행 결과에 대한 리소스가 메시지 바디에 전송되었다.
  * TRACE : 메시지 바디(?)는 서버에서 수신한 요청 메시지를 포함하고 있다.
* 201 (Created) : 요청이 성공적으로 처리되어, 서버가 새로운 리소스를 생성했다.
* 202 (Accepted) : 요청을 접수하였으나, 아직 처리하지 않았다.
* 203 (Non-Authoritative Information) : 서버가 요청을 성공적으로 처리했지만, 다른 소스에서 수신된 정보를 제공하고 있다.
* 204 (No Content) : 서버가 요청을 성공적으로 처리했으나, 별도의 컨텐츠를 제공하지 않는다.
* 205 (Reset Content) : 서버가 요청을 성공적으로 처리했으나, 별도의 컨텐츠를 제공하지 않는다. 204 상태 코드와 다른 점은, 205 상태 코드는 요청자가 문서 보기를 재설정(Reset)할 것을 요구한다는 점이다. (예: 새 입력을 위한 양식 비우기)
* 206 (Partial Content) : 서버가 GET 요청의 일부만 성공적으로 처리하였다. 클라이언트에서 복수의 스트림을 분할 다운로드를 하고자 범위 헤더를 전송했기 때문에 사용된다.



#### 3xx (Redirection)

------

클라이언트는 요청을 완료하기 위해 추가 동작을 취해야 한다.



##### 상태 코드

* 300 (Multiple Choices) : 서버가 요청에 따라 여러 조치를 선택할 수 있다. 서버가 클라이언트 에이전트에 따라 수행할 작업을 선택하거나, 클라이언트가 선택할 수 있는 작업 목록을 제공한다. 후자의 경우, 클라이언트는 반드시 하나를 선택해야 한다.
* 301 (Moved Permanently) : 요청한 페이지를 새 위치로 영구적으로 이동하였다. 요청한 리소스의 URI가 변경되었기 때문이다. GET 또는 HEAD 요청에 대한 응답으로 이 응답을 표시한 경우, 클라이언트는 자동으로 새 위치로 전달된다. 혹은 새로운 URI가 응답으로 주어진다.
* 302 (Found) : 현재 서버가 다른 위치의 페이지로 요청에 응답하고 있다. 이 상태 코드는 요청한 리소스의 URI가 일시적으로 변경되었음을 의미한다. 그러나 클라이언트는 향후의 요청시 여전히 원래의 URI를 사용해야 한다.
* 303 (See Other) : 클라이언트가 요청한 리소스를 다른 URI에서 GET 요청을 통해 얻어야 할 때, 서버가 클라이언트로 직접 보내는 응답이다.
* 304 (Not Modified) : 캐시를 목적으로 사용된다. 클라이언트에게 마지막 요청 이후 응답이 수정되지 않았음을 알려준다. 따라서 클라이언트는 계속해서 응답의 캐시된 버전을 사용할 수 있다.
* 305 (Use Proxy) : 요청하고자 하는 리소스, 또는 응답은 반드시 프록시를 통해서 요청이 가능함을 의미한다. 그러나 보안 상의 문제로 인해 점차 사라지고 있다.
* 306 (Unused) : 이 상태 코드는 더 이상 사용되지 않는다.(HTTP 1.1 이전에 사용되었음.) 현재는 추후의 사용을 위해 예약되어 있다.
* 307 (Temporary Redirect) : 클라이언트가 요청한 리소스가 다른 URI에 있으며, 향후 요청 시 이전 요청과 동일한 HTTP 메소드를 사용하여 요청해야 할 때, 서버가 클라이언트에게 이 응답을 보낸다. `302(Found)` 상태 코드와 동일한 의미이지만, 클라이언트가 반드시 사용된 HTTP 메소드를 변경하지 말아야 한다는 점에서 다르다. 만약 첫 요청에 POST가 사용되었다면, 두 번째 요청도 반드시 POST를 사용해야 한다.
* 308 (Permanent Redirect) : 이것은 리소스가 영구적으로 HTTP 응답 헤더의 `Location:` 에 명시된 URI에 위치하고 있음을 의미한다. `301(Moved Permanently)` 상태 코드와 동일한 의미이지만, 클라이언트가 반드시 사용된 HTTP 메소드를 변경하지 말아야 한다는 점에서 다르다.



#### 4xx (Client Error)

------

클라이언트의 요청에 오류가 있어 서버가 이를 처리하지 않았다.



##### 상태 코드

* 400 (Bad Request) : 서버가 클라이언트의 요청에서 오류를 감지하여 요청을 처리할 수 없거나, 하지 않음을 의미한다. 따라서 클라이언트는 요청을 반드시 올바르게 수정해야 한다.

* 401 (Unauthorized) : HTTP 표준에서는 `권한 없음(unauthorized)`을 명확히 하고 있지만, 의미상 이 응답은 `인증 안됨(unauthenticated)`을 의미한다. 해당 리소스에 대한 인증 자격 증명이 존재하지 않아 요청이 처리되지 않은 경우를 의미한다. 따라서 클라이언트는 스스로 인증해야 한다.

* 402 (Payment Required) : 해당 요청에는 결제가 필요하다는 의미이다. 결제 시스템에 사용하기 위해 만들어졌으나, 현재는 사용되지 않는다. 나중에 사용될 것을 대비하여 예약되었다.

* 403 (Forbidden) : 클라이언트가 요청 또는 리소스에 대한 필요 권한이 없음을 의미한다. 401과 유사해보이지만, 401은 서버가 클라이언트를 식별할 수 없어 요청을 처리할 수 없는 경우에 사용된다. 반면 403은 서버가 클라이언트를 식별하였고, 해당 클라이언트가 리소스에 대한 권한이 없다고 판단한 경우이다. 

  403은 유저 인증 상태에 상관없이 서버에서 응답을 금지하는 리소스에 대한 요청이 들어온 경우에도 사용될 수 있다. 그러나 이 경우에는 `400(Bad Request)`이나 `404 (Not Found)`를 사용하는 것이 바람직하다. 403 상태 코드는 서버에 해당 리소스가 존재하는 것을 내포하기 때문이다.

* 404 (Not Found) : 서버가 요청받은 리소스를 찾을 수 없는 경우에 사용된다. 예를 들어 서버에 존재하지 않는 페이지에 대한 요청이 있을 경우, 서버는 이 상태 코드를 제공한다. 그러나 404 상태 코드가 리소스가 일시적, 또는 영구적으로 사라졌음을 의미하는 것은 아니다.

  그럼에도 불구하고 일반적으로 404 상태 코드는 리소스가 이동하였거나, 삭제되었을 때도 반환된다. 만일 리소스가 이동된 경우라면 URL을 다시 기록하거나, `301(Moved Permanently)` 를 사용하여 반환할 수 있다. 리소스가 영구적으로 삭제 되었다면, `410(Gone)` 상태 코드를 사용하는 것이 의미상으로는 적절하다. 그러나 대부분의 웹에서는 이러한 방식을 사용하지 않는다.

  404 코드는 인증받지 않은 클라이언트로부터 리소스를 숨기기 위한 목적으로 `403(Forbidden)` 대신에 전송되기도 한다.

* 405 (Method Not Allowed) : 해당 리소스에 대해 지정된 메소드를 사용하여 요청할 수 없는 경우에 사용된다. 예를 들어 읽기 전용 리소스에 PUT 요청을 보내는 경우 등이 있다. 그러나 필수적인 메소드인 GET, HEAD는 제거될 수 없으므로 이 상태 코드를 반환해서는 안된다.

* 406 (Not Acceptable) : 요청 시 요청한 컨텐츠의 특성으로 응답할 수 없는 경우에 사용된다.

* 407 (Proxy Authentication Required) : `401(Unauthorized)` 와 비슷하지만 요청자가 프록시를 사용하여 인증해야 한다.

* 408 (Request Timeout) : 서버의 요청 대기 시간이 초과되었다. 요청을 한지 시간이 오래된 연결에 전송된다.

* 409 (Conflict) : 해당 요청이 대상 리소스의 현재 상태와 충돌을 일으키게 되어 요청을 처리할 수 없음을 의미한다. 409 상태 코드는 사용자가 충돌을 해결한 후, 다시 요청을 보낼 수 있는 상황에서 사용된다. 서버는 사용자가 충돌의 원인을 인식할 수 있도록 이에 대한 충분한 정보를 응답 메시지에 포함하여 전송해야 한다.

  충돌은 일반적으로 PUT 요청에서 많이 발생한다. 예를 들어, 서버에 이미 있는 파일보다 오래된 버전의 파일을 업로드할 때 버전 제어 충돌이 발생할 수 있다. 이런 경우 서버는 409 상태 코드를 반환한다. 그리고 서버는 변경 사항 히스토리를 참조하여, 이에 대한 정보를 응답 메시지에 포함시켜 전송함으로써 사용자가 스스로 변경사항들을 병합할 수 있도록 한다.

* 410 (Gone) : 요청한 리소스가 서버에서 영구적으로 삭제되어, 전달해 줄 수 있는 주소가 존재하지 않는 경우에 사용된다. 이전에 존재하였지만 더 이상 존재하지 않는 리소스에 대해 `404(Not Found)` 대신 사용되기도 한다. HTTP 기술 사양은 이 상태 코드가 일시적인, 홍보용 서비스에 사용되기를 기대한다.



4xx 계열의 코드의 종류는 이 외에도 다음과 같은 것들이 있다.

* 411 (Length Required)
* 412 (Precondition Failed)
* 413 (Request Entity Too Large)
* 414 (Request-URI Too Long)
* 415 (Unsupported Media Type)
* 416 (Requested Range Not Satisfiable)
* 417 (Expectation Failed)





#### 5xx (Server Error)

------

클라이언트의 요청이 유효하지만, 서버가 이를 처리하지 못했다.



##### 상태 코드

* 500 (Internal Server Error) : 서버에 오류가 발생하여 요청을 수행할 수 없는 경우에 사용된다. 혹은 요청을 처리하는 과정에서 서버가 예상하지 못한 상황에 놓인 경우를 의미한다.

  500 상태 코드는 서버 에러를 총칭하는 응답으로, 의미가 구체적이지 않은 응답이다. 

* 501 (Not Implemented) : 서버에 요청을 수행할 수 있는 기능이 없다. 예를 들어 서버가 요청 메소드를 인식하지 못할 경우 이 상태 코드를 사용한다.

* 502 (Bad Gateway) : 서버가 요청을 처리하는 데 필요한 응답을 얻기 위해 게이트웨이로 작업하는 동안 업스트림 서버로부터 잘못된 응답을 받은 경우에 사용된다.

* 503 (Service Unavailable) : 일반적으로 서버가 유지보수를 위해 작동이 중단되었거나 과부하가 걸린 경우에 사용된다. 따라서 일시적인 상태에 사용된다.

  503 상태 코드를 반환하는 경우에는 원인을 설명하는 사용자 친화적인 페이지가 같이 전송되어야 한다. 또한 `Retry-After:` 헤더를 활용하여 사용자에게 서비스가 이용가능한 시간에 대한 정보를 제공하면 바람직하다. 

* 504 (Gateway Timeout) : 서버가 게이트웨이나 프록시 역할을 하고 있으며 업스트림 서버에서 제때 요청을 받지 못한 경우에 사용된다.

* 505 (HTTP Version Not Supported) : 서버가 요청에 사용된 HTTP 버전을 지원하지 않는다.