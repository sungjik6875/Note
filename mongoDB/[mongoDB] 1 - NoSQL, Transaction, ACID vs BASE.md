#### NoSQL

------

>  몽고DB는 SQL 기반으로 동작하는 RDBMS에 속하지 않는 NoSQL이다. NoSQL로 인한 몽고DB가 갖는 특징은 다음과 같다.
>
>  먼저 RDBMS가 아니므로 관계형 모델을 사용하지 않으며, 따라서 스키마 없이 동작한다. 스키마를 통해 동작한다는 것은 관계형 데이터 테이블의 행과 열을 통해 데이터를 탐색하는 것을 의미하는데, 몽고DB는 이와 다르게 동작한다.
>
>  ACID를 충실히 지키지 않으므로 RDBMS에 비해 처리 속도가 빠르다. 따라서 상대적으로 더 적은 비용으로 대규모 데이터를 감당하기에 좋다. 또한 RDBMS에 비해 Sharding이 더 용이하므로 동시에 많은 처리를 사용하는데 용이하고, 대규모 데이터에 적합하다. 이러한 특징들로 인해 몽고DB는 빅데이터를 처리하는데 많이 사용된다. 



#### 트랜잭션

------

>  트랜잭션이란 작업 수행의 논리적 단위이다. 트랜잭션은 질의(Query)의 묶음으로 구성된다. 하나의 트랜잭션이 실행 도중 중단될 경우 처음부터 다시 실행되는 Rollback을 수행한다. 오류없이 실행을 마치면 Commit을 수행한다. 따라서 하나의 트랜잭션에 속한 질의들은 모두 수행되거나 수행되지 않는 두 가지 경우를 갖는다.
>
>  트랜잭션을 사용하는 이유는 데이터베이스 서버에 여러 개의 클라이언트가 동시에 액세스하거나 응용프로그램이 갱신을 처리하는 과정에서 중단될 수 있는 경우 등에 의해 발생 가능한 데이터 부정합을 방지하기 위함이다. 부정합을 방지하기 위한 방법으로 프로세스를 병렬이 아닌 직렬 방식으로 처리하여 한 번에 하나의 프로세스만 처리하도록 하는 방법이 있으나, 이는 효율이 떨어진다. 따라서 병렬 처리 방식을 유지하며 데이터의 부정합을 방지하기 위한 방법으로 트랜잭션을 사용한다.



#### ACID

------

> 트랜잭션이 필수적으로 갖는 4가지 특징을 의미한다. 각 특징은 다음과 같다.

##### 원자성(Atomicity)

> 트랜잭션과 관련된 작업들이 부분적으로 실행되다가 중단되지 않는 것을 보장하는 능력이다. 트랜잭션의 처리는 완전히 작업이 완료되거나, 어떤 문제에 의해 아예 실행되지 않거나 둘 중 하나의 경우를 따른다. 이는 All or Nothing의 개념으로 표현하기도 하며, 작업 단위를 일부분만 실행하지는 않는 것을 의미한다.
>
> 몽고DB에서는 Document에 대해 원자성을 갖는다. 만약 여러 Document에 대해 원자성을 갖게 하려면 $Isolated operator를 사용해야 한다.

##### 일관성(Consistency)

> 트랜잭션 실행을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태로 유지해야한다. 무결성 제약조건, 비명시적 조건과 같은 데이터 모델의 모든 제약 조건이 트랜잭션 실행 전후에도 지켜져야 한다. 예를 들어 트랜잭션 실행 전후 데이터 타입이 변경되거나 해서는 안되며, 어떤 데이터가 변경되면 해당 데이터를 참조하는 다른 데이터도 같이 변경되어야 한다.
>
> 몽고DB에서는 Database 수준에서 일관성을 유지한다. 

##### 독립성(Isolation)

> 트랜잭션 수행 시 다른 트랜잭션으로부터 간섭받지 않도록 보장하는 것을 의미한다.  즉, 여러 트랜잭션이 동시에 수행되더라도 각각의 트랜잭션은 다른 트랜잭션의 수행에 영향을 받지 않고 독립적으로 수행되어야 한다.
>
> 몽고DB에서는 특정 명령어에 대해서 일정 수준의 독립성이 보장된다.

##### 지속성(Durability)

> 트랜잭션이 성공적으로 완료되어 Commit이 이루어지면 해당 트랜잭션에 의한 모든 변경은 향후에 어떤 소프트웨어나 하드웨어 장애가 발생되더라도 보존되어야 하는 것을 의미한다.
>
> 몽고DB에서는 Replica Set을 설정해두면 Database 수준에서 보존된다.



#### BASE

------

>  RDBMS에서는 위의 ACID를 충실히 따른다. 이로 인해 데이터를 안전하게 관리할 수 있으나, ACID를 지키기 위해 많은 자원을 소모해야 한다. 몽고DB는 ACID를 부분적으로 수옹한다. 따라서 데이터 관리에 소모되는 비용이 RDBMS에 비해 적으며, 이로 인해 처리 속도가 빠르다. 
>
>  반면, 몽고DB에서 추구하는 원칙은 BASE라 하며, BASE의 특징은 다음과 같다.

##### Basically Available

> 기본적인 가용성을 지닌다는 의미로, 데이터베이스를 사용할 수 없는 장애 상황에서도 금방 다시 사용이 가능한 상태로 전환될 수 있음을 의미한다. 이로 인해 몽고DB는 항시 서비스를 제공할 수 있는 상태를 유지할 수 있다. 

##### Soft State

> 외부의 개입이 없어도 정보가 변경될 수 있음을 의미한다. 이는 밑에서 설명할 Eventually Consistent 특성을 보장하기 위해 필요한 특성이다. 

##### Eventually Consistent

> 시스템 상에서 일시적으로 일관성이 보장되지 않는 상태가 되어도 일정 시간 후에는 일관성을 보장하는 상태가 되는 것을 의미한다. 몽고DB는 효율성을 중시하므로 RDBMS처럼 매 순간 데이터의 부정합을 확인하지 않는다. 그러나 데이터의 부정합을 확인 시 부정합이 발견되면 이를 찾아 수정한다. 이러한 행위는 위의 Soft State에 의해 가능하다.



##### ACID vs BASE

|             | ACID                 | BASE               |
| ----------- | -------------------- | ------------------ |
| 적용분야    | RDBMS                | NoSQL              |
| 범위        | 트랜잭션에 한정      | 시스템 전체        |
| 일관성 측면 | 강한 일관성          | 약한 일관성        |
| 중점사항    | Commit에 집중        | 가용성             |
| 시스템 측면 | 엄격한 데이터관리    | 성능에 초점        |
| 효율성      | 테이블 디자인이 중요 | 쿼리 디자인이 중요 |







> 





